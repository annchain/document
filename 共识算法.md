共识算法
========================

安链使用的共识算法是基于tendermint定制研发的类PBFT共识算法
有关tendermint的详细资料请参见:  tendermint.com

节点
----------------
* 每个节点有自己唯一的公私钥

* 节点发出的所有消息都使用ed25519签名，节点收到的所有消息都会先验证签名

* 节点可分配权重，权重高的节点有更多机会发起Proposal，投票权重也更大

* 每个block需+2/3权重节点签名才能生效


三阶段提交
-------------------
* Proposal： 根据block高度和权重选择某个指定的节点，将交易打包成block并广播， 发起Proposal。
* Pre-vote： 所有节点验证proposal，广播自己的签名，并收集其他节点的签名
* Pre-commit： 如果收到其他节点+2/3权重的pre-vote签名，则签名并广播pre-commit消息
* 超过2/3的pre-commit即表示block成功生成

一致性与可用性：
-----------------
* 少于1/3权重节点的任意故障不影响整个系统运行（拜占庭容错）
* 当超过1/3权重节点宕机或出现任意故障时，整个系统处于不可用状态，无法处理新的交易请求
* 当恢复到大于2/3权重节点正常时，系统恢复可用状态，可处理新交易请求，系统历史状态不丢失

区块大小
------------------
每个区块最多包含10000笔交易

出块时间
-----------------
根据实际的网络状况和节点可用性，正常出块的时间在数秒至数十秒之间

